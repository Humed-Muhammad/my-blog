---
title: How to fix javascript heap out of memory in ubuntu
date: '2022-09-24'
tags:
  [
    'javascript heap out of memory',
    'javascript heap out of memory error',
    'fix heap out of memory',
    'fix heap out of memory in ubuntu',
    'fix heap out of memory in ubuntu 20.04',
    'vscode heap out of memory error',
  ]
draft: false
summary: 'To resolve the JavaScript heap out of memory error, run your npm command with the â€”max-old-space-size option. You can also use a configuration file to set the memory limit for your entire environment.'
image: 'memory.jpg'
---

import { ImageComponent } from '@/components/ImageComponent'
import { Note } from '@/components/Note'
import { GoogleScript } from '@/components/ads'

<ImageComponent
  src="/static/images/memory.jpg"
  width="100%"
  height="100%"
  alt="javascript heap out of memory"
/>

## Overview

<TOCInline toc={props.toc} exclude="Overview" toHeading={2} />

## Introduction

To resolve the JavaScript heap out of memory error, run your npm command with the â€”max-old-space-size option. You can also use a configuration file to set the memory limit for your entire environment.

## The fatal error

You might encounter an error that terminates the running process when using Node to run JavaScript processes.

The fatal error says JavaScript heap out of memory as seen below:

```bash
FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory
```

- or the alternative error like below:

```bash
FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory
```

<GoogleScript path="javascript heap out of memory" />

## Solution

- The best solution is to use a configuration file to set the memory limit, this will enable your to not repeat the execution every time your hit the memory limit.

- Set Node memory limit using configuration file

### 1. Open the command line by clicking **ctrl + alt + t** in ubuntu.

### 2. Open the bash file

- If you're using Bash, most probably you do open it using the following command:

```bash
sudo nano .bashrc
```

### 3. Paste the following text:

```bash
export NODE_OPTIONS=--max_old_space_size=4096 #4GB
```

<Note>**Note:** you can increase the **--max_old_space_size** to your own desired size</Note>

- Example:

```js
--max-old-space-size=1024 # increase memory to 1GB
--max-old-space-size=2048 # increase memory to 2GB
--max-old-space-size=3072 # increase memory to 3GB
--max-old-space-size=4096 # increase memory to 4GB
--max-old-space-size=8192 # increase memory to 8GB
```

## Conclusion

Thank you for sticking with me this long to learn how to fix javascript heap out of memory error. See you later in an other tutorial by by ðŸš€.

<GoogleScript path="javascript heap out of memory" />
